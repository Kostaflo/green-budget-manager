<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="900.0" prefWidth="1500.0" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="io.github.codeblooded.controller.GreenBudgetViewController">
   
   <top>
      <VBox spacing="10.0" style="-fx-background-color: #2c3e50; -fx-padding: 15;">
         <Label text="Green Budget Analysis Dashboard" textFill="WHITE">
            <font><Font name="System Bold" size="26.0" /></font>
         </Label>
         <HBox alignment="CENTER_LEFT" spacing="15.0">
            <Label text="ðŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ·:" textFill="WHITE" style="-fx-font-weight: bold;" />
            <TextField fx:id="searchField" promptText="ÎŒÎ½Î¿Î¼Î± Î ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚..." prefWidth="250.0" />
            <Label text="ðŸ›ï¸ Î¥Ï€Î¿Ï…ÏÎ³ÎµÎ¯Î¿:" textFill="WHITE" style="-fx-font-weight: bold;" />
            <TextField fx:id="ministryFilter" promptText="Î¦Î¯Î»Ï„ÏÎ¿ Î¥Ï€Î¿Ï…ÏÎ³ÎµÎ¯Î¿Ï…..." prefWidth="200.0" />
         </HBox>
      </VBox>
   </top>

   <center>
      <SplitPane dividerPositions="0.65" BorderPane.alignment="CENTER">
         <VBox>
            <TableView fx:id="budgetTable" VBox.vgrow="ALWAYS" tableMenuButtonVisible="true">
              <columns>
                <TableColumn fx:id="idColumn" text="ID" prefWidth="50.0" />
                <TableColumn fx:id="nameColumn" text="Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±" prefWidth="250.0" />
                <TableColumn fx:id="ministryColumn" text="Î¥Ï€Î¿Ï…ÏÎ³ÎµÎ¯Î¿" prefWidth="150.0" />
                <TableColumn fx:id="amountColumn" text="Î Î¿ÏƒÏŒ (â‚¬)" prefWidth="110.0" />
                <TableColumn fx:id="tagColumn" text="Total Tag" prefWidth="70.0" />
                <TableColumn text="Tags Î±Î½Î¬ Î£Ï„ÏŒÏ‡Î¿">
                    <columns>
                        <TableColumn fx:id="meivshColumn" text="ÎœÎµÎ¯Ï‰ÏƒÎ·" prefWidth="60.0" />
                        <TableColumn fx:id="prosarmofhColumn" text="Î ÏÎ¿ÏƒÎ±ÏÎ¼." prefWidth="60.0" />
                        <TableColumn fx:id="ydatinaColumn" text="Î¥Î´Î¬Ï„Î¹Î½Î±" prefWidth="60.0" />
                        <TableColumn fx:id="kyklikhColumn" text="ÎšÏ…ÎºÎ»Î¹ÎºÎ®" prefWidth="60.0" />
                        <TableColumn fx:id="rypanshColumn" text="Î¡ÏÏ€Î±Î½ÏƒÎ·" prefWidth="60.0" />
                        <TableColumn fx:id="biopoikilothtaColumn" text="Î’Î¹Î¿Ï€Î¿Î¹Îº." prefWidth="60.0" />
                    </columns>
                </TableColumn>
              </columns>
            </TableView>
         </VBox>

         <VBox spacing="20.0" style="-fx-background-color: white; -fx-padding: 10;">
            <VBox alignment="CENTER" VBox.vgrow="ALWAYS">
               <Label text="Î£Ï…Î½Î¿Î»Î¹ÎºÏŒÏ‚ Î‘Î½Ï„Î¯ÎºÏ„Ï…Ï€Î¿Ï‚ (Î˜/Î‘/ÎŸ)" style="-fx-font-weight: bold; -fx-font-size: 14px;" />
               <PieChart fx:id="budgetPieChart" />
            </VBox>
            
            <VBox alignment="CENTER" VBox.vgrow="ALWAYS">
               <Label text="Î˜ÎµÏ„Î¹ÎºÏŒÏ‚ Î‘Î½Ï„Î¯ÎºÏ„Ï…Ï€Î¿Ï‚ Î±Î½Î¬ Î£Ï„ÏŒÏ‡Î¿ (Mâ‚¬)" style="-fx-font-weight: bold; -fx-font-size: 14px;" />
               <BarChart fx:id="budgetBarChart" legendVisible="false">
                 <xAxis><CategoryAxis label="Î£Ï„ÏŒÏ‡Î¿Î¹" fx:id="xAxis" /></xAxis>
                 <yAxis><NumberAxis label="Î•ÎºÎ±Ï„. â‚¬" fx:id="yAxis" /></yAxis>
               </BarChart>
            </VBox>
         </VBox>
      </SplitPane>
   </center>

   <bottom>
      <HBox alignment="CENTER_RIGHT" style="-fx-padding: 10; -fx-background-color: #ecf0f1;">
         <Button onAction="#handleBack" text="ðŸ”™ Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î®" style="-fx-font-size: 14px; -fx-cursor: hand;" />
      </HBox>
   </bottom>
</BorderPane>
